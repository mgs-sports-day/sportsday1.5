{"version":3,"file":"static/js/530.246ff88a.chunk.js","mappings":"iJACA,OAAgB,WAAa,gC,mBCEd,SAASA,EAAT,GAQZ,IAPGC,EAOJ,EAPIA,MAAOC,EAOX,EAPWA,QAQT,OAAO,iBAAKC,UAAWC,EAAAA,WAAhB,UACFH,EAAMI,KAAI,SAAAC,GAAI,OAAI,SAAC,KAAD,CAAMC,GAAID,EAAKE,KAAf,SACdF,EAAKG,MADmCH,EAAKE,UAGlD,cAAGL,UAAWC,EAAAA,KAAd,SACKF,S,6JCTE,SAASQ,IACpB,IAAQC,GAAWC,EAAAA,EAAAA,MAAXD,OACFE,GAAOC,EAAAA,EAAAA,UAAc,WACvB,GAAIH,EACA,OAAOI,EAAAA,EAAAA,IAAWJ,GAElB,MAAM,IAAIK,MAAM,0BAErB,CAACL,IAEJ,GAAsBM,EAAAA,EAAAA,IAAY,SAAAC,GAAG,OAAIA,EAAIC,eAAeN,EAAKO,KAAMP,EAAKA,SAArEQ,GAAP,eACA,GAAuBJ,EAAAA,EAAAA,IAAY,SAAAC,GAAG,OAAIA,EAAII,yBAAvCC,GAAP,eAEMC,GAAmBV,EAAAA,EAAAA,UAAQ,WAC7B,GAAKS,EACL,OAAOA,EAAaE,MAAK,SAAAC,GAAC,OAAIA,EAAEN,OAASP,EAAKO,MAAQM,EAAEb,OAASA,EAAKA,UACvE,CAACU,EAAcV,IAElB,OAAO,iCACH,SAAC,IAAD,CACIZ,MAAO,CACH,CAAEQ,KAAM,OAAQD,KAAM,KACtB,CAAEC,KAAM,QAASD,KAAM,WAE3BN,QAASW,EAAKO,KAAOP,EAAKA,QAG9B,0BACKA,EAAKO,KAAMP,EAAKA,MACjB,sDAKcc,IAAjBJ,IAA8B,UAAC,IAAD,YAC3B,SAAC,IAAD,CAAUK,QAAS,CACf,CAACC,MAAO,gBACR,CAACA,MAAK,OAAEL,QAAF,IAAEA,OAAF,EAAEA,EAAkBM,YAE9B,SAAC,IAAD,CAAUF,QAAS,CACf,CAACC,MAAO,mBACR,CAACA,MAAK,OAAEL,QAAF,IAAEA,OAAF,EAAEA,EAAkBO,UAAWC,eAAe,OAExD,SAAC,IAAD,CAAUJ,QAAS,CACf,CAACC,MAAO,iBACR,CAACA,MAAK,OAAEL,QAAF,IAAEA,OAAF,EAAEA,EAAkBS,QAASD,eAAe,cAIzCL,IAAhBN,IAA6B,SAAC,IAAD,CAC1Ba,OAAQ,CACJ,CAAEC,KAAM,QAASC,QAAS,GAC1B,CAAED,KAAM,eAAgBE,QAAS,GACjC,CAAEF,KAAM,eAAgBE,QAAS,GACjC,CAAEF,KAAM,eAAgBE,QAAS,GACjC,CAAEF,KAAM,eAAgBC,QAAS,GACjC,CAAED,KAAM,eAAgBC,QAAS,IAErCE,gBAAiB,CACb,CAAEH,KAAM,YACR,CAAEA,KAAM,UACR,CAAEA,KAAM,YACR,CAAEA,KAAM,UACR,CAAEA,KAAM,YACR,CAAEA,KAAM,WAfc,SAkBzBd,EAAYhB,KAAI,SAAAkC,GAAM,OAAI,SAAC,IAAD,CAEvBX,QAAS,EACL,SAAC,KAAD,CAAMrB,GAAE,kBAAagC,EAAOC,SAA5B,UACKC,EAAAA,EAAAA,IAAcF,EAAOC,WAE1B,CAAEX,MAAOU,EAAOG,KAAMV,eAAe,GACrC,CAAEH,MAAOU,EAAOI,MAChB,CAAEd,MAAOU,EAAOK,KAAMZ,eAAe,GACrC,CAAEH,MAAOU,EAAOM,MAChB,CAAEhB,MAAOU,EAAOO,KAAMd,eAAe,GACrC,CAAEH,MAAOU,EAAOQ,MAChB,CAAElB,MAAOU,EAAOS,OAChB,CAAEnB,MAAOU,EAAOU,YAZfV,EAAOC","sources":["webpack://sportsday1.5/./src/styles/Breadcrumb.module.scss?853d","components/Breadcrumb.tsx","pages/Form/FormOverview.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"breadcrumb\":\"Breadcrumb_breadcrumb__qk236\"};","import styles from '../styles/Breadcrumb.module.scss'\nimport { Link } from 'react-router-dom';\n\nexport default function Breadcrumb(\n    { paths, current }: {\n        paths: {\n            name: string,\n            link: string,\n        }[],\n        current: string,\n    }\n) {\n    return <div className={styles.breadcrumb}>\n        {paths.map(path => <Link to={path.link} key={path.link}>\n            {path.name}\n        </Link>)}\n        <p className={styles.last}>\n            {current}\n        </p>\n    </div>\n}\n","import { Link, useParams } from 'react-router-dom';\nimport { useMemo } from 'react';\nimport { eventIdToName, linkToForm } from '../../api/helpers';\nimport type { Form } from 'mgssportsday-api/dist/types';\nimport { useApiQuery } from '../../api/context';\nimport { Table, TableRow } from '../../components/Table';\nimport Breadcrumb from '../../components/Breadcrumb';\n\nexport default function FormOverview() {\n    const { formId } = useParams()\n    const form = useMemo<Form>(() => {\n        if (formId) {\n            return linkToForm(formId)\n        } else {\n            throw new Error(\"No form ID provided!\")\n        }\n    }, [formId])\n\n    const [formResults] = useApiQuery(api => api.getFormResults(form.year, form.form))\n    const [allStandings] = useApiQuery(api => api.getSummaryStandings())\n\n    const thisFormStanding = useMemo(() => {\n        if (!allStandings) return undefined\n        return allStandings.find(e => e.year === form.year && e.form === form.form)\n    }, [allStandings, form])\n\n    return <>\n        <Breadcrumb\n            paths={[\n                { name: 'Home', link: '/' },\n                { name: 'Forms', link: '/forms' },\n            ]}\n            current={form.year + form.form}\n        />\n\n        <h1>\n            {form.year}{form.form}\n            <span>\n                Event breakdown\n            </span>\n        </h1>\n\n        {allStandings !== undefined && <Table>\n            <TableRow columns={[\n                {value: 'Total points'},\n                {value: thisFormStanding?.points}\n            ]} />\n            <TableRow columns={[\n                {value: 'School position'},\n                {value: thisFormStanding?.schoolPos, autoHighlight: true}\n            ]} />\n            <TableRow columns={[\n                {value: 'Year position'},\n                {value: thisFormStanding?.yearPos, autoHighlight: true}\n            ]} />\n        </Table>}\n\n        {formResults !== undefined && <Table\n            header={[\n                { text: 'Event', rowSpan: 2 },\n                { text: 'Competitor A', colSpan: 2 },\n                { text: 'Competitor B', colSpan: 2 },\n                { text: 'Competitor C', colSpan: 2 },\n                { text: 'Record bonus', rowSpan: 2 },\n                { text: 'Total points', rowSpan: 2 },\n            ]}\n            secondaryHeader={[\n                { text: 'Position' },\n                { text: 'Points' },\n                { text: 'Position' },\n                { text: 'Points' },\n                { text: 'Position' },\n                { text: 'Points' },\n            ]}\n        >\n            {formResults.map(result => <TableRow\n                key={result.eventDb}\n                columns={[\n                    <Link to={`/events/${result.eventDb}`}>\n                        {eventIdToName(result.eventDb)}\n                    </Link>,\n                    { value: result.posA, autoHighlight: true },\n                    { value: result.ptsA },\n                    { value: result.posB, autoHighlight: true },\n                    { value: result.ptsB },\n                    { value: result.posC, autoHighlight: true },\n                    { value: result.ptsC },\n                    { value: result.ptsRB },\n                    { value: result.ptsTOTAL },\n                ]}\n            />)}\n        </Table>}\n    </>\n}\n"],"names":["Breadcrumb","paths","current","className","styles","map","path","to","link","name","FormOverview","formId","useParams","form","useMemo","linkToForm","Error","useApiQuery","api","getFormResults","year","formResults","getSummaryStandings","allStandings","thisFormStanding","find","e","undefined","columns","value","points","schoolPos","autoHighlight","yearPos","header","text","rowSpan","colSpan","secondaryHeader","result","eventDb","eventIdToName","posA","ptsA","posB","ptsB","posC","ptsC","ptsRB","ptsTOTAL"],"sourceRoot":""}